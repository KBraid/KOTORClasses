
new entry "KOTOR_CRITICALSTRIKE_AC"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "KOTORAttackCriticalStrike100000000000;1" 
data "Description" "KOTORAttackCriticalStrike1ACModifier0;1" 
data "Icon" "Boost_AC"
data "StackId" "KTOTR_CRITICALSTRIKE_AC"
data "Boosts" "AC(-5)"
data "RemoveEvents" "OnAttacked;OnTurn;OnCombatEnded"

new entry "KOTOR_CRITICALSTRIKE_1"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "KOTORAttackCriticalStrike100000000000;1" 
data "Description" "KOTORAttackCriticalStrike1CHModifier0;1" 
data "Icon" "boost_Critical"
data "StackId" "KTOTR_CRITICALSTRIKE"
data "Boosts" "ReduceCriticalAttackThreshold(2*CriticalAttackThreshold)"
data "RemoveEvents" "OnTurn;OnCombatEnded"

new entry "KOTOR_CRITICALSTRIKE_2"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "KOTORAttackCriticalStrike200000000000;1" 
data "Description" "KOTORAttackCriticalStrike2CHModifier0;1" 
data "Icon" "boost_Critical"
data "StackId" "KTOTR_CRITICALSTRIKE"
data "Boosts" "ReduceCriticalAttackThreshold(3*CriticalAttackThreshold)"
data "RemoveEvents" "OnTurn;OnCombatEnded"

new entry "KOTOR_CRITICALSTRIKE_3"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "KOTORAttackCriticalStrike300000000000;1" 
data "Description" "KOTORAttackCriticalStrike3CHModifier0;1" 
data "Icon" "boost_Critical"
data "StackId" "KTOTR_CRITICALSTRIKE"
data "Boosts" "ReduceCriticalAttackThreshold(4*CriticalAttackThreshold)"
data "RemoveEvents" "OnTurn;OnCombatEnded"

new entry "KOTOR_Target_CriticalStrike_1"
type "SpellData"
data "SpellType" "Target"
using "Target_MainHandAttack"
data "Cooldown" "OncePerTurn"
data "SpellProperties" "ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_AC, 100, 1);ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_1, 100, 1);GROUND:DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);GROUND:DealDamage(OffhandMeleeWeapon, OffhandMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(OffHand)"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack)"
data "SpellSuccess" "IF(Character() and not SavingThrow(Ability.Constitution, ManeuverSaveDC()+2)):ApplyStatus(STUNNED,100,1);DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType); ExecuteWeaponFunctors(MainHand);CastOffhand[DealDamage(OffhandMeleeWeapon, OffhandMeleeWeaponDamageType); ExecuteWeaponFunctors(OffHand)]"
data "Icon" "Action_CriticalStrike_1"
data "DisplayName" "KOTORAttackCriticalStrike100000000000;1" 
data "Description" "KOTORAttackCriticalStrike1Description;1" 
data "TooltipDamageList" "DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);ApplyStatus(STUNNED,100,1)"
data "TooltipAttackSave" "MeleeWeaponAttack;Constitution"
data "TooltipStatusApply" "ApplyStatus(STUNNED,100,1)"
data "CastSound" "Action_Cast_Bard_DefensiveFlourishMelee"
data "SpellAnimation" "a09de2c8-ec46-4c27-a502-bc92cf293fe5,,;9583ecee-cf6c-4735-86db-7ebf1df15eae,366693ee-d97f-4294-a4dd-a2145ddc4e6a,9f2d32b9-529a-4b75-b3df-6e1ae1395280;de006e3f-70fb-4eb7-a98d-d845d15b20e8,479ee5da-2967-41e1-b7d1-a94e864a5f25,79323098-edb3-4993-ba50-9b5f705e9878;50696db7-d931-4734-915d-32d038ba99a5,b5cb923d-0c08-4c20-89a9-44b9bf98c6cb,6282d127-0c06-4365-9d53-6f32ef350127;244b53cb-dc0f-4932-afd0-ab19c6df1b34,,;c36ed247-2272-492b-99c2-2ca10b014670,ecbf9949-3b33-432c-b735-e47aaed0924a,e71a7c08-fdc1-4a0b-9a90-1c793c58553c;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "VerbalIntent" "Damage"
data "SpellFlags" "IsMelee;IsHarmful"
data "PrepareEffect" "9b55a45f-1859-4f55-8fd4-44a27d3fcba1"
data "CastEffect" "f573afc5-f018-4a87-a3a9-d1c0fe4e5b0d"

new entry "KOTOR_Target_CriticalStrike_2"
type "SpellData"
data "SpellType" "Target"
using "KOTOR_Target_CriticalStrike_1"
data "SpellProperties" "ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_AC, 100, 1);ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_2, 100, 1);GROUND:DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand)"
data "Icon" "Action_CriticalStrike_2"
data "DisplayName" "KOTORAttackCriticalStrike200000000000;1" 
data "Description" "KOTORAttackCriticalStrike2Description;1"
data "TooltipDamageList" "DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType)"

new entry "KOTOR_Target_CriticalStrike_3"
type "SpellData"
data "SpellType" "Target"
using "KOTOR_Target_CriticalStrike_1"
data "SpellProperties" "ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_AC, 100, 1);ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_3, 100, 1);GROUND:DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand)"
data "Icon" "Action_CriticalStrike_3"
data "DisplayName" "KOTORAttackCriticalStrike300000000000;1" 
data "Description" "KOTORAttackCriticalStrike3Description;1"
data "TooltipDamageList" "DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType)"

new entry "KOTOR_Target_SniperShot_1"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_MainHandAttack"
data "Cooldown" "OncePerTurn"
data "SpellProperties" "ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_AC, 100, 1);ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_1, 100, 1);GROUND:DealDamage(MainRangedWeapon, MainRangedWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand)"
data "TargetFloor" "-1"
data "TargetRadius" "RangedMainWeaponRange"
data "SpellRoll" "Attack(AttackType.RangedWeaponAttack);CastOffhand[Attack(AttackType.RangedOffHandWeaponAttack)]"
data "SpellSuccess" "IF(Character() and not SavingThrow(Ability.Constitution, ManeuverSaveDC()+2)):ApplyStatus(STUNNED,100,1);DealDamage(MainRangedWeapon, MainRangedWeaponDamageType); ExecuteWeaponFunctors(MainHand);CastOffhand[DealDamage(OffhandRangedWeapon, OffhandRangedWeaponDamageType); ExecuteWeaponFunctors(OffHand)]"
data "Icon" "Action_SniperShot_1"
data "DisplayName" "KOTORAttackSniperShot1000000000000000;1" 
data "Description" "KOTORAttackRapidShot1Description00000;1" 
data "TooltipDamageList" "DealDamage(MainRangedWeapon, MainRangedWeaponDamageType)"
data "TooltipStatusApply" "ApplyStatus(STUNNED,100,1)"
data "CastSound" "Action_Cast_Bard_DefensiveFlourishRanged"
data "SpellAnimation" "a09de2c8-ec46-4c27-a502-bc92cf293fe5,,;9583ecee-cf6c-4735-86db-7ebf1df15eae,366693ee-d97f-4294-a4dd-a2145ddc4e6a,9f2d32b9-529a-4b75-b3df-6e1ae1395280;de006e3f-70fb-4eb7-a98d-d845d15b20e8,479ee5da-2967-41e1-b7d1-a94e864a5f25,79323098-edb3-4993-ba50-9b5f705e9878;50696db7-d931-4734-915d-32d038ba99a5,b5cb923d-0c08-4c20-89a9-44b9bf98c6cb,6282d127-0c06-4365-9d53-6f32ef350127;244b53cb-dc0f-4932-afd0-ab19c6df1b34,,;c36ed247-2272-492b-99c2-2ca10b014670,ecbf9949-3b33-432c-b735-e47aaed0924a,e71a7c08-fdc1-4a0b-9a90-1c793c58553c;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "VerbalIntent" "Damage"
data "SpellFlags" "HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;IsHarmful"
data "PrepareEffect" "00d37401-b1a7-42eb-ad64-ca4954111a85"
data "CastEffect" "27ae62db-1606-4e42-9bc9-aeb09dcc4f64"

new entry "KOTOR_Target_SniperShot_2"
type "SpellData"
data "SpellType" "Projectile"
using "KOTOR_Target_SniperShot_1"
data "SpellProperties" "ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_AC, 100, 1);ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_2, 100, 1);GROUND:DealDamage(MainRangedWeapon, MainRangedWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand)"
data "Icon" "Action_SniperShot_2"
data "DisplayName" "KOTORAttackSniperShot2000000000000000;1" 
data "Description" "KOTORAttackRapidShot1Description00000;1" 
data "TooltipDamageList" "DealDamage(MainRangedWeapon, MainRangedWeaponDamageType)"
data "TooltipStatusApply" "ApplyStatus(STUNNED,100,1)"

new entry "KOTOR_Target_SniperShot_3"
type "SpellData"
data "SpellType" "Projectile"
using "KOTOR_Target_SniperShot_1"
data "SpellProperties" "ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_AC, 100, 1);ApplyStatus(SELF,KOTOR_CRITICALSTRIKE_3, 100, 1);GROUND:DealDamage(MainRangedWeapon, MainRangedWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand)"
data "Icon" "Action_SniperShot_3"
data "DisplayName" "KOTORAttackSniperShot3000000000000000;1" 
data "Description" "KOTORAttackRapidShot1Description00000;1" 
data "TooltipDamageList" "DealDamage(MainRangedWeapon, MainRangedWeaponDamageType)"
data "TooltipStatusApply" "ApplyStatus(STUNNED,100,1)"

new entry "KOTOR_FLURRY_1"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_FLURRY"
data "Boosts" "WeaponAttackRollBonus(-4)"
data "RemoveEvents" "OnTurn;OnCombatEnded"

new entry "KOTOR_FLURRY_AC_1"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_FLURRY_AC"
data "Boosts" "AC(-4)"
data "RemoveEvents" "OnAttacked;OnTurn;OnCombatEnded"

new entry "KOTOR_FLURRY_2"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_FLURRY"
data "Boosts" "WeaponAttackRollBonus(-2)"
data "RemoveEvents" "OnTurn;OnCombatEnded"

new entry "KOTOR_FLURRY_AC_2"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_FLURRY_AC"
data "Boosts" "AC(-2)"
data "RemoveEvents" "OnAttacked;OnTurn;OnCombatEnded"

new entry "KOTOR_FLURRY_3"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_FLURRY"
data "Boosts" "WeaponAttackRollBonus(-1)"
data "RemoveEvents" "OnTurn;OnCombatEnded"

new entry "KOTOR_FLURRY_AC_3"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_FLURRY_AC"
data "Boosts" "AC(-1)"
data "RemoveEvents" "OnAttacked;OnTurn;OnCombatEnded"

new entry "KOTOR_Target_Flurry_1"
type "SpellData"
data "SpellType" "Target"
using "Target_MainHandAttack"
data "Cooldown" "OncePerTurn"
data "SpellProperties" "GROUND:DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);ApplyStatus(SELF,KOTOR_FLURRY_1, 100, 1);ApplyStatus(SELF,KOTOR_FLURRY_AC_1, 100, 1)"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack);Cast2[Attack(AttackType.MeleeWeaponAttack)]"
data "SpellSuccess" "DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);Cast2[DealDamage(MainMeleeWeapon , MainMeleeWeaponDamageType)]"
data "Icon" "Action_Flurry_1"
data "DisplayName" "KOTORAttackFlurry10000000000000000000;1" 
data "Description" "KOTORAttackFlurry1Description00000000;1" 
data "TooltipDamageList" "DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType)"
data "TooltipStatusApply" "AC(-4); WeaponAttackRollBonus(-4)"
data "CastSound" "Action_Cast_Bard_MobileFlourishMelee"
data "SpellAnimation" "a09de2c8-ec46-4c27-a502-bc92cf293fe5,,;b590e52e-a453-470a-882a-13e13b6d1937,b590e52e-a453-470a-882a-13e13b6d1937,b590e52e-a453-470a-882a-13e13b6d1937;412f122d-0773-4a08-bf1c-65749e543fb6,412f122d-0773-4a08-bf1c-65749e543fb6,412f122d-0773-4a08-bf1c-65749e543fb6;6748a2ec-fe1e-4aa4-ac27-570aedaba922,6748a2ec-fe1e-4aa4-ac27-570aedaba922,6748a2ec-fe1e-4aa4-ac27-570aedaba922;244b53cb-dc0f-4932-afd0-ab19c6df1b34,,;dced792c-ab29-450c-b9ec-d0c291c6c022,dced792c-ab29-450c-b9ec-d0c291c6c022,dced792c-ab29-450c-b9ec-d0c291c6c022;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "VerbalIntent" "Damage"
data "SpellFlags" "IsMelee;IsHarmful"
data "PrepareEffect" "d8ea7a73-027c-4472-b638-2b939d384900"
data "CastEffect" "0e0bf555-2c21-4553-834a-d054d04fbd1b"

new entry "KOTOR_Target_Flurry_2"
type "SpellData"
data "SpellType" "Target"
using "KOTOR_Target_Flurry_1"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack);Cast2[Attack(AttackType.MeleeWeaponAttack)]"
data "SpellProperties" "GROUND:DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);ApplyStatus(SELF,KOTOR_FLURRY_2, 100, 1);ApplyStatus(SELF,KOTOR_FLURRY_AC_2, 100, 1)"
data "Icon" "Action_Flurry_2"
data "DisplayName" "KOTORAttackFlurry10000000000000000000;1" 
data "DisplayName" "KOTORAttackFlurry2Description00000000;1" 
data "TooltipStatusApply" "AC(-2); WeaponAttackRollBonus(-2)"

new entry "KOTOR_Target_Flurry_3"
type "SpellData"
data "SpellType" "Target"
using "KOTOR_Target_Flurry_1"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack);Cast2[Attack(AttackType.MeleeWeaponAttack)]"
data "SpellProperties" "GROUND:DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);ApplyStatus(SELF,KOTOR_FLURRY_3, 100, 1);ApplyStatus(SELF,KOTOR_FLURRY_AC_3, 100, 1)"
data "Icon" "Action_Flurry_3"
data "DisplayName" "KOTORAttackFlurry30000000000000000000;1" 
data "DisplayName" "KOTORAttackFlurry3Description00000000;1" 
data "TooltipStatusApply" "AC(-1); WeaponAttackRollBonus(-1)"

new entry "KOTOR_RAPIDSHOT_1"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_RAPIDSHOT"
data "Boosts" "WeaponAttackRollBonus(-4)"
data "RemoveEvents" "OnTurn;OnCombatEnded"

new entry "KOTOR_RAPIDSHOT_AC_1"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_FLURRY_AC"
data "Boosts" "AC(-4)"
data "RemoveEvents" "OnAttacked;OnTurn;OnCombatEnded"

new entry "KOTOR_RAPIDSHOT_2"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_RAPIDSHOT"
data "Boosts" "WeaponAttackRollBonus(-2)"
data "RemoveEvents" "OnTurn;OnCombatEnded"

new entry "KOTOR_RAPIDSHOT_AC_2"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_FLURRY_AC"
data "Boosts" "AC(-2)"
data "RemoveEvents" "OnAttacked;OnTurn;OnCombatEnded"

new entry "KOTOR_RAPIDSHOT_3"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_RAPIDSHOT"
data "Boosts" "WeaponAttackRollBonus(-1)"
data "RemoveEvents" "OnTurn;OnCombatEnded"

new entry "KOTOR_RAPIDSHOT_AC_3"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KTOTR_FLURRY_AC"
data "Boosts" "AC(-1)"
data "RemoveEvents" "OnAttacked;OnTurn;OnCombatEnded"

new entry "KOTOR_Target_RapidShot_1"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_MainHandAttack"
data "Cooldown" "OncePerTurn"
data "SpellProperties" "GROUND:DealDamage(MainRangedWeapon, MainRangedWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);GROUND:DealDamage(OffhandMainRangedWeapon, OffhandRangedWeaponDamageType);GROUND:ExecuteWeaponFunctors(OffHand);ApplyStatus(SELF,KOTOR_RAPIDSHOT_1, 100, 1);ApplyStatus(SELF,KOTOR_RAPIDSHOT_AC_1, 100, 1)"
data "TargetFloor" "-1"
data "TargetRadius" "RangedMainWeaponRange"
data "SpellRoll" "Attack(AttackType.RangedWeaponAttack);Cast2[Attack(AttackType.RangedOffHandWeaponAttack)];Cast3[Attack(AttackType.RangedWeaponAttack];Cast4[Attack(AttackType.RangedOffHandWeaponAttack)]"
data "SpellSuccess" "DealDamage(MainRangedWeapon,MainRangedWeaponDamageType); ExecuteWeaponFunctors(MainHand);Cast2[DealDamage(OffhandRangedWeapon,OffhandRangedWeaponDamageType); ExecuteWeaponFunctors(OffHand)];Cast3[DealDamage(MainRangedWeapon,MainRangedWeaponDamageType)];Cast4[DealDamage(OffhandRangedWeapon,OffhandRangedWeaponDamageType)]"
data "Icon" "Action_RapidShot_1"
data "DisplayName" "KOTORAttackRapidShot10000000000000000;1" 
data "Description" "KOTORAttackRapidShot1Description00000;1" 
data "TooltipDamageList" "DealDamage(MainRangedWeapon,MainRangedWeaponDamageType);DealDamage(MainRangedWeapon,MainRangedWeaponDamageType);DealDamage(OffhandRangedWeapon,OffhandRangedWeaponDamageType);DealDamage(OffhandRangedWeapon,OffhandRangedWeaponDamageType)"
data "TooltipStatusApply" "AC(-4); WeaponAttackRollBonus(-4)"
data "CastSound" "Action_Cast_Bard_MobileFlourishRanged"
data "SpellAnimation" "a09de2c8-ec46-4c27-a502-bc92cf293fe5,,;b590e52e-a453-470a-882a-13e13b6d1937,b590e52e-a453-470a-882a-13e13b6d1937,b590e52e-a453-470a-882a-13e13b6d1937;412f122d-0773-4a08-bf1c-65749e543fb6,412f122d-0773-4a08-bf1c-65749e543fb6,412f122d-0773-4a08-bf1c-65749e543fb6;6748a2ec-fe1e-4aa4-ac27-570aedaba922,6748a2ec-fe1e-4aa4-ac27-570aedaba922,6748a2ec-fe1e-4aa4-ac27-570aedaba922;244b53cb-dc0f-4932-afd0-ab19c6df1b34,,;dced792c-ab29-450c-b9ec-d0c291c6c022,dced792c-ab29-450c-b9ec-d0c291c6c022,dced792c-ab29-450c-b9ec-d0c291c6c022;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "VerbalIntent" "Damage"
data "SpellFlags" "HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;IsHarmful"
data "PrepareEffect" "00d37401-b1a7-42eb-ad64-ca4954111a85"
data "CastEffect" "27ae62db-1606-4e42-9bc9-aeb09dcc4f64"

new entry "KOTOR_Target_RapidShot_2"
type "SpellData"
data "SpellType" "Projectile"
using "KOTOR_Target_RapidShot_1"
data "SpellRoll" "Attack(AttackType.RangedWeaponAttack);Cast2[Attack(AttackType.RangedOffHandWeaponAttack)];Cast3[Attack(AttackType.RangedWeaponAttack];Cast4[Attack(AttackType.RangedOffHandWeaponAttack)]"
data "SpellProperties" "GROUND:DealDamage(MainRangedWeapon, MainRangedWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);GROUND:DealDamage(OffhandMainRangedWeapon, OffhandRangedWeaponDamageType);GROUND:ExecuteWeaponFunctors(OffHand);;ApplyStatus(SELF,KOTOR_RAPIDSHOT_2, 100, 1);ApplyStatus(SELF,KOTOR_RAPIDSHOT_AC_2, 100, 1)"
data "Icon" "Action_RapidShot_2"
data "DisplayName" "KOTORAttackRapidShot20000000000000000;1" 
data "Description" "KOTORAttackRapidShot1Description00000;1" 
data "TooltipStatusApply" "AC(-2); WeaponAttackRollBonus(-2)"

new entry "KOTOR_Target_RapidShot_3"
type "SpellData"
data "SpellType" "Projectile"
using "KOTOR_Target_RapidShot_1"
data "SpellRoll" "Attack(AttackType.RangedWeaponAttack);Cast2[Attack(AttackType.RangedOffHandWeaponAttack)];Cast3[Attack(AttackType.RangedWeaponAttack];Cast4[Attack(AttackType.RangedOffHandWeaponAttack)]"
data "SpellProperties" "GROUND:DealDamage(MainRangedWeapon, MainRangedWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);GROUND:DealDamage(OffhandMainRangedWeapon, OffhandRangedWeaponDamageType);GROUND:ExecuteWeaponFunctors(OffHand);ApplyStatus(SELF,KOTOR_RAPIDSHOT_3, 100, 1);ApplyStatus(SELF,KOTOR_RAPIDSHOT_AC_3, 100, 1)"
data "Icon" "Action_RapidShot_3"
data "DisplayName" "KOTORAttackRapidShot30000000000000000;1" 
data "Description" "KOTORAttackRapidShot1Description00000;1" 
data "TooltipStatusApply" "AC(-1); WeaponAttackRollBonus(-1)"

new entry "KOTOR_POWERATTACK"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KOTOR_POWERATTACK"
data "Boosts" "WeaponAttackRollBonus(-3)"
data "RemoveEvents" "OnTurn;OnCombatEnded"

new entry "KOTOR_Target_PowerAttack_1"
type "SpellData"
data "SpellType" "Target"
using "Target_MainHandAttack"
data "Cooldown" "OncePerTurn"
data "SpellProperties" "GROUND:DealDamage(MainMeleeWeapon, MainMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);GROUND:DealDamage(OffhandMeleeWeapon, OffhandMeleeWeaponDamageType);GROUND:ExecuteWeaponFunctors(OffHand);ApplyStatus(SELF,KOTOR_POWERATTACK, 100, 1)"
data "SpellRoll" "Attack(AttackType.MeleeWeaponAttack);CastOffhand[Attack(AttackType.OffhandMeleeWeapon)]"
data "SpellSuccess" "DealDamage(MainMeleeWeapon + max(5), MainMeleeWeaponDamageType); ExecuteWeaponFunctors(MainHand);CastOffhand[DealDamage(OffhandMeleeWeapon + max(5), OffhandMeleeWeaponDamageType); ExecuteWeaponFunctors(OffHand)]"
data "Icon" "Action_PowerAttack_1"
data "DisplayName" "KOTORAttackPowerAttack100000000000000;1" 
data "Description" "KOTORAttackPowerAttack1Description000;1" 
data "TooltipDamageList" "DealDamage(MainMeleeWeapon + max(5), MainMeleeWeaponDamageType)"
data "TooltipStatusApply" "WeaponAttackRollBonus(-3)"
data "CastSound" "Action_Cast_Bard_DefensiveFlourishMelee"
data "SpellAnimation" "a09de2c8-ec46-4c27-a502-bc92cf293fe5,,;9583ecee-cf6c-4735-86db-7ebf1df15eae,366693ee-d97f-4294-a4dd-a2145ddc4e6a,9f2d32b9-529a-4b75-b3df-6e1ae1395280;de006e3f-70fb-4eb7-a98d-d845d15b20e8,479ee5da-2967-41e1-b7d1-a94e864a5f25,79323098-edb3-4993-ba50-9b5f705e9878;50696db7-d931-4734-915d-32d038ba99a5,b5cb923d-0c08-4c20-89a9-44b9bf98c6cb,6282d127-0c06-4365-9d53-6f32ef350127;244b53cb-dc0f-4932-afd0-ab19c6df1b34,,;c36ed247-2272-492b-99c2-2ca10b014670,ecbf9949-3b33-432c-b735-e47aaed0924a,e71a7c08-fdc1-4a0b-9a90-1c793c58553c;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "VerbalIntent" "Damage"
data "SpellFlags" "IsMelee;IsHarmful"
data "PrepareEffect" "9b55a45f-1859-4f55-8fd4-44a27d3fcba1"
data "CastEffect" "f573afc5-f018-4a87-a3a9-d1c0fe4e5b0d"

new entry "KOTOR_Target_PowerAttack_2"
type "SpellData"
data "SpellType" "Target"
using "KOTOR_Target_PowerAttack_1"
data "SpellSuccess" "DealDamage(MainMeleeWeapon + max(8), MainMeleeWeaponDamageType); ExecuteWeaponFunctors(MainHand);CastOffhand[DealDamage(OffhandMeleeWeapon + max(8), OffhandMeleeWeaponDamageType); ExecuteWeaponFunctors(OffHand)]"
data "Icon" "Action_PowerAttack_2"
data "DisplayName" "KOTORAttackPowerAttack200000000000000;1" 
data "TooltipDamageList" "DealDamage(MainMeleeWeapon + max(8), MainMeleeWeaponDamageType)"

new entry "KOTOR_Target_PowerAttack_3"
type "SpellData"
data "SpellType" "Target"
using "KOTOR_Target_PowerAttack_1"
data "SpellSuccess" "DealDamage(MainMeleeWeapon + max(10), MainMeleeWeaponDamageType); ExecuteWeaponFunctors(MainHand);CastOffhand[DealDamage(OffhandMeleeWeapon + max(10), OffhandMeleeWeaponDamageType); ExecuteWeaponFunctors(OffHand)]"
data "Icon" "Action_PowerAttack_3"
data "DisplayName" "KOTORAttackPowerAttack300000000000000;1" 
data "TooltipDamageList" "DealDamage(MainMeleeWeapon + max(10), MainMeleeWeaponDamageType)"

new entry "KOTOR_POWERBLAST"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "KOTOR_POWERBLAST"
data "Boosts" "WeaponAttackRollBonus(-3)"
data "RemoveEvents" "OnTurn;OnCombatEnded"

new entry "KOTOR_Target_PowerBlast_1"
type "SpellData"
data "SpellType" "Projectile"
using "Projectile_MainHandAttack"
data "Cooldown" "OncePerTurn"
data "SpellProperties" "GROUND:DealDamage(MainRangedWeapon, MainRangedWeaponDamageType);GROUND:ExecuteWeaponFunctors(MainHand);ApplyStatus(SELF,KOTOR_POWERBLAST, 100, 1)"
data "TargetFloor" "-1"
data "TargetRadius" "RangedMainWeaponRange"
data "SpellRoll" "Attack(AttackType.RangedWeaponAttack);CastOffhand[Attack(AttackType.RangedOffHandWeaponAttack)]"
data "SpellSuccess" "DealDamage(MainRangedWeapon + max(5), MainRangedWeaponDamageType); ExecuteWeaponFunctors(MainHand)"
data "Icon" "Action_PowerBlast_1"
data "DisplayName" "KOTORAttackPowerBlast1000000000000000;1" 
data "Description" "KOTORAttackPowerBlast1Description0000;1" 
data "TooltipDamageList" "DealDamage(MainRangedWeapon + max(5), MainRangedWeaponDamageType)"
data "CastSound" "Action_Cast_Bard_DefensiveFlourishRanged"
data "SpellAnimation" "a09de2c8-ec46-4c27-a502-bc92cf293fe5,,;9583ecee-cf6c-4735-86db-7ebf1df15eae,366693ee-d97f-4294-a4dd-a2145ddc4e6a,9f2d32b9-529a-4b75-b3df-6e1ae1395280;de006e3f-70fb-4eb7-a98d-d845d15b20e8,479ee5da-2967-41e1-b7d1-a94e864a5f25,79323098-edb3-4993-ba50-9b5f705e9878;50696db7-d931-4734-915d-32d038ba99a5,b5cb923d-0c08-4c20-89a9-44b9bf98c6cb,6282d127-0c06-4365-9d53-6f32ef350127;244b53cb-dc0f-4932-afd0-ab19c6df1b34,,;c36ed247-2272-492b-99c2-2ca10b014670,ecbf9949-3b33-432c-b735-e47aaed0924a,e71a7c08-fdc1-4a0b-9a90-1c793c58553c;0b07883a-08b8-43b6-ac18-84dc9e84ff50,,;,,;,,"
data "VerbalIntent" "Damage"
data "SpellFlags" "HasHighGroundRangeExtension;RangeIgnoreVerticalThreshold;IsHarmful"
data "PrepareEffect" "00d37401-b1a7-42eb-ad64-ca4954111a85"
data "CastEffect" "27ae62db-1606-4e42-9bc9-aeb09dcc4f64"

new entry "KOTOR_Target_PowerBlast_2"
type "SpellData"
data "SpellType" "Projectile"
using "KOTOR_Target_PowerBlast_1"
data "SpellSuccess" "DealDamage(MainRangedWeapon + max(8), MainRangedWeaponDamageType); ExecuteWeaponFunctors(MainHand)"
data "Icon" "Action_PowerBlast_2"
data "DisplayName" "KOTORAttackPowerBlast2000000000000000;1" 
data "Description" "KOTORAttackPowerBlast1Description0000;1" 
data "TooltipDamageList" "DealDamage(MainRangedWeapon + max(8), MainRangedWeaponDamageType)"

new entry "KOTOR_Target_PowerBlast_3"
type "SpellData"
data "SpellType" "Projectile"
using "KOTOR_Target_PowerBlast_1"
data "SpellSuccess" "DealDamage(MainRangedWeapon + max(10), MainRangedWeaponDamageType); ExecuteWeaponFunctors(MainHand)"
data "Icon" "Action_PowerBlast_3"
data "DisplayName" "KOTORAttackPowerBlast3000000000000000;1" 
data "Description" "KOTORAttackPowerBlast1Description0000;1" 
data "TooltipDamageList" "DealDamage(MainRangedWeapon + max(10), MainRangedWeaponDamageType)"

/ Scoundrel Class

new entry "KOTOR_Interrupt_SneakAttack_1"
type "InterruptData"
data "DisplayName" "KOTORScoundrelSneakAttack100000000000;1" 
data "Description" "KOTORScoundrelSneakAttack1Description;1" 
data "Icon" "Action_SneakAttack_1"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "TargetRadius" "10"
data "Conditions" "Self(context.Source,context.Observer) and HasStatus('INVISIBLE') or HasStatus('CROUCH') and Enemy(context.Source,context.Observer) and HasStatus('SG_Stunned') or HasStatus('SG_Paralyzed')"
data "Properties" "IF(IsMeleeAttack():DealDamage(1d6, MainMeleeWeaponDamageType);IF(IsRangedAttack():DealDamage(1d6, MainRangedWeaponDamageType)"
data "Cost" "SneakAttack_Charge:1"
data "Stack" "SneakAttack"
data "Cooldown" "OncePerTurn"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "HasActionResource('SneakAttack_Charge',1,0,false,false,context.Source) and (WieldingFinesseWeaponInSpecificHand(context.Source, false) or WieldingFinesseWeaponInSpecificHand(context.Source, true) or WieldingWeapon('Ammunition', false, true, context.Source) or SpellTypeIs(SpellType.Throw) and (not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnActionResourcesChanged;OnEquip"

new entry "KOTOR_Interrupt_SneakAttack_2"
type "InterruptData"
data "DisplayName" "KOTORScoundrelSneakAttack200000000000;1" 
data "Description" "KOTORScoundrelSneakAttack1Description;1" 
data "Icon" "Action_SneakAttack_2"
data "Properties" "IF(IsMeleeAttack():DealDamage(2d6, MainMeleeWeaponDamageType);IF(IsRangedAttack():DealDamage(2d6, MainRangedWeaponDamageType)"
using "KOTOR_Interrupt_SneakAttack_1"

new entry "KOTOR_Interrupt_SneakAttack_3"
type "InterruptData"
data "DisplayName" "KOTORScoundrelSneakAttack300000000000;1" 
data "Description" "KOTORScoundrelSneakAttack1Description;1" 
data "Icon" "Action_SneakAttack_3"
data "Properties" "IF(IsMeleeAttack():DealDamage(3d6, MainMeleeWeaponDamageType);IF(IsRangedAttack():DealDamage(3d6, MainRangedWeaponDamageType)"
using "KOTOR_Interrupt_SneakAttack_1"

new entry "KOTOR_Interrupt_SneakAttack_4"
type "InterruptData"
data "DisplayName" "KOTORScoundrelSneakAttack400000000000;1" 
data "Description" "KOTORScoundrelSneakAttack1Description;1" 
data "Icon" "Action_SneakAttack_4"
data "Properties" "IF(IsMeleeAttack():DealDamage(4d6, MainMeleeWeaponDamageType);IF(IsRangedAttack():DealDamage(4d6, MainRangedWeaponDamageType)"
using "KOTOR_Interrupt_SneakAttack_1"

new entry "KOTOR_Interrupt_SneakAttack_5"
type "InterruptData"
data "DisplayName" "KOTORScoundrelSneakAttack500000000000;1" 
data "Description" "KOTORScoundrelSneakAttack1Description;1" 
data "Icon" "Action_SneakAttack_5"
data "Properties" "IF(IsMeleeAttack():DealDamage(5d6, MainMeleeWeaponDamageType);IF(IsRangedAttack():DealDamage(5d6, MainRangedWeaponDamageType)"
using "KOTOR_Interrupt_SneakAttack_1"

new entry "KOTOR_Interrupt_SneakAttack_6"
type "InterruptData"
data "DisplayName" "KOTORScoundrelSneakAttack600000000000;1" 
data "Description" "KOTORScoundrelSneakAttack1Description;1" 
data "Icon" "Action_SneakAttack_6"
data "Properties" "IF(IsMeleeAttack():DealDamage(6d6, MainMeleeWeaponDamageType);IF(IsRangedAttack():DealDamage(6d6, MainRangedWeaponDamageType)"
using "KOTOR_Interrupt_SneakAttack_1"

new entry "KOTOR_Interrupt_SneakAttack_7"
type "InterruptData"
data "DisplayName" "KOTORScoundrelSneakAttack700000000000;1" 
data "Description" "KOTORScoundrelSneakAttack1Description;1" 
data "Icon" "Action_SneakAttack_7"
data "Properties" "IF(IsMeleeAttack():DealDamage(7d6, MainMeleeWeaponDamageType);IF(IsRangedAttack():DealDamage(7d6, MainRangedWeaponDamageType)"
using "KOTOR_Interrupt_SneakAttack_1"

new entry "KOTOR_Interrupt_SneakAttack_8"
type "InterruptData"
data "DisplayName" "KOTORScoundrelSneakAttack800000000000;1" 
data "Description" "KOTORScoundrelSneakAttack1Description;1" 
data "Icon" "Action_SneakAttack_8"
data "Properties" "IF(IsMeleeAttack():DealDamage(8d6, MainMeleeWeaponDamageType);IF(IsRangedAttack():DealDamage(8d6, MainRangedWeaponDamageType)"
using "KOTOR_Interrupt_SneakAttack_1"

new entry "KOTOR_Interrupt_SneakAttack_9"
type "InterruptData"
data "DisplayName" "KOTORScoundrelSneakAttack900000000000;1" 
data "Description" "KOTORScoundrelSneakAttack1Description;1" 
data "Icon" "Action_SneakAttack_9"
data "Properties" "IF(IsMeleeAttack():DealDamage(9d6, MainMeleeWeaponDamageType);IF(IsRangedAttack():DealDamage(9d6, MainRangedWeaponDamageType)"
using "KOTOR_Interrupt_SneakAttack_1"
